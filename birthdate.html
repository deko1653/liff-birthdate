<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>生年月日入力</title>
</head>
<body>

<label>生年月日を入力してください</label><br>
<input
  id="birthdate"
  type="text"
  inputmode="numeric"
  placeholder="例）1980/2/11 または 1980-2-11"
>
<br><br>
<button onclick="onSubmitBirthdate()">決定</button>

<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
<script>
const LIFF_ID = "2008857959-dKhasSoj"; // あなたのLIFF ID

async function initLiff() {
  try {
    await liff.init({ liffId: LIFF_ID });
  } catch (e) {
    alert("LIFF初期化に失敗: " + (e?.message || e));
  }
}

window.addEventListener("load", initLiff);

async function onSubmitBirthdate() {
  const el = document.getElementById("birthdate");
  const v = (el?.value || "").trim();

  if (!v) { alert("生年月日を入力してください"); return; }

  // LINE内じゃないと送れない
  if (!liff.isInClient()) {
    alert("LINEアプリ内で開くと送信できます。\n入力: " + v);
    return;
  }

  try {
    await liff.sendMessages([{ type: "text", text: v }]);

    alert("送信しました。次の案内を開きます。");

   

    // 最後に閉じたいなら（まずはOFFでOK）
    // liff.closeWindow();

  } catch (e) {
    alert("送信に失敗しました: " + (e?.message || e));
  }
}
</script>


</body>
</html>


